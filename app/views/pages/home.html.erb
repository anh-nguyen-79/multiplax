<div class="image-container">
  <div class="header">
    <h1>Multiplax</h1>
  </div>

  <% if user_signed_in? %>
    <button class="login-btn">
      <img src="https://ui-avatars.com/api/?name=<%= current_user.email.first %>&background=random" alt="User Avatar">
    </button>
  <% else %>
    <button class="login-btn" data-bs-toggle="modal" data-bs-target="#loginModal">
      <img src="user-icon.png" alt="User Icon">
    </button>
  <% end %>

  <div class="search-bar-container">
    <form action="/search" method="get">
      <input type="text" name="query" placeholder="where do i want my multipla..." required>
      <div class="search-icon" onclick="redirectToIndex();"></div>
    </form>

    <div class="calendar-container">
      <div class="calendar-wrapper">
        <label for="start_date">Start</label>
        <input type="date" id="start_date" name="start_date" required>
      </div>
      <div class="calendar-wrapper">
        <label for="end_date">End</label>
        <input type="date" id="end_date" name="end_date" required>

      <!-- Affichage conditionnel des boutons de connexion/inscription pour les visiteurs non connectés -->
      <% if user_signed_in? %>
        <!-- Le bouton de déconnexion est dans le menu déroulant de l'avatar -->
      <% else %>
        <!-- Liens de connexion et d'inscription pour les utilisateurs non authentifiés -->
        <%= link_to 'Login', new_user_session_path, class: 'btn btn-primary' %>
        <%= link_to 'Sign Up', new_user_registration_path, class: 'btn btn-secondary' %>
      <% end %>

    </div>
  </div>
</div>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
<script src="script.js"></script>
