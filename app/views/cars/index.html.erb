


<h1 class="text-center my-4">🚗 Cars index</h1>

<!-- Bouton pour voir les réservations -->
<div class="text-center mb-4">
  <%= link_to "📋 Mes réservations", rentals_path, class: "btn btn-info btn-lg" %>
</div>

<div class="container">
  <div class="row justify-content-center">
    <% @rentals.each do |rental| %>
      <div class="col-md-6">
        <div class="card shadow-lg mb-4 p-3" style="border-radius: 10px;">
          <div class="card-body">

            <!-- Image de la voiture -->
            <div class="text-center">
              <img src="<%= asset_path rental.car.img %>" alt="Photo de la voiture" class="img-fluid rounded" style="width: 100%; max-height: 200px; object-fit: cover;">
            </div>

            <h3 class="text-center mt-3"><%= rental.car.desc %></h3>

            <!-- Détails de la réservation -->
            <p><strong>📅 Date de récupération :</strong> <%= rental.start_date.strftime("%d/%m/%Y") %></p>
            <p><strong>📅 Date de restitution :</strong> <%= rental.end_date.strftime("%d/%m/%Y") %></p>
            <p><strong>💰 Prix total :</strong> <%= rental.price %> €</p>

            <!-- Boutons d'action -->
            <div class="d-flex justify-content-between">
              <%= link_to "Louer", rental_path(rental), class: "btn btn-primary" %>
              <% if rental.status == "confirmed" %>
                <%= link_to "✏ Modifier", edit_rental_path(rental), class: "btn btn-warning" %>
              <% end %>
            </div>

          </div>
        </div>
      </div>
    <% end %>
  </div>  
</div>

<style>
  .cars-container {
    margin-top: 20px;
  }

  .card {
    height: 100%;
    transition: transform 0.3s;
  }

  .card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 20px rgba(0,0,0,0.1);
  }

  .card-img-top {
    height: 200px;
    object-fit: cover;
  }
</style>
